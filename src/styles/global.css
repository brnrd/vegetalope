@import url('https://fonts.googleapis.com/css2?family=Instrument+Serif:opsz@8..72&family=Inter:wght@300;400;500;600;700&display=swap');

/*
  Global styles aligned to americabydesign.gov: bold type, big scale, clean surfaces.
  Minimal rules, lots of air, editorial hierarchy.
*/

html {
	color-scheme: light;
}

html.theme-dark {
	color-scheme: dark;
}

:root {
	/* Typography */
	--font-display: "Instrument Serif", "Palatino Linotype", "Book Antiqua", serif;
	--font-body: "Inter", "Source Sans 3", system-ui, -apple-system, "Segoe UI", sans-serif;
	--font-label: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
		"Courier New", monospace;

	/* Palette */
	--color-ink: #14161a;
	--color-ink-muted: #3b3f47;
	--color-bg: #f6f1e8;
	--color-accent: #1a2747;
	--color-accent-2: #c21f2b;
	--hairline: rgba(20, 22, 26, 0.14);

	/* Layout */
	--page-pad: clamp(18px, 4vw, 36px);
	--measure: 104ch;
	--measure-wide: 132ch;

	/* Rhythm */
	--stack-1: 0.6rem;
	--stack-2: 1.2rem;
	--stack-3: 2.4rem;
	--stack-4: 3.6rem;

	/* Focus */
	--focus: 3px solid color-mix(in oklab, var(--color-accent) 70%, white);
	--focus-offset: 3px;
}

html.theme-dark {
	--color-ink: #f2eee4;
	--color-ink-muted: #c9cfdd;
	--color-bg: #0d1220;
	--color-accent: #d5dced;
	--color-accent-2: #e07062;
	--hairline: rgba(240, 240, 240, 0.18);
}

*,
*::before,
*::after {
	box-sizing: border-box;
}

:where(img, picture, video, canvas, svg) {
	max-width: 100%;
	height: auto;
}

:where(img, picture) {
	display: block;
}

.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border: 0;
}

:where(html) {
	text-size-adjust: 100%;
	-webkit-text-size-adjust: 100%;
	scroll-behavior: smooth;
}

:where(body) {
	margin: 0;
	min-height: 100svh;
	font-family: var(--font-body);
	line-height: 1.7;
	color: var(--color-ink);
	background: var(--color-bg);
}

@media (prefers-reduced-motion: reduce) {
	:where(html) {
		scroll-behavior: auto;
	}
	*,
	*::before,
	*::after {
		animation-duration: 0.001ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.001ms !important;
	}
}

:where(main),
:where(.content) {
	max-width: var(--measure);
	margin: clamp(42px, 4vw, 96px) auto;
	padding: 0 var(--page-pad);
}

:where(.content--wide),
:where(main.content--wide) {
	max-width: var(--measure-wide);
}

:where(header.site-header) {
	padding-inline: var(--page-pad);
	padding-block: var(--page-pad);
	background: transparent;
}

:where(header.site-header .inner) {
	max-width: var(--measure-wide);
	margin-inline: auto;
	display: flex;
	gap: 1.25rem;
	flex-wrap: wrap;
	align-items: center;
	justify-content: space-between;
}

header.site-header h2 {
	margin: 0;
	font-family: var(--font-display);
	font-weight: 500;
	letter-spacing: 0.02em;
	line-height: 1.1;
	padding: 0;
	border: 0;
}

@media (max-width: 720px) {
	:where(header.site-header) {
		padding-block: var(--page-pad);
	}

	:where(header.site-header h2) {
		margin-block: 0;
	}

	main header h1 {
		margin-block: var(--stack-1);
	}

	:where(main),
	:where(.content) {
		margin: clamp(18px, 4vw, 32px) auto;
	}
}

header.site-header a {
	color: inherit;
	text-decoration: none;
}

header.site-header a:hover,
header.site-header a:visited {
	text-decoration: none;
}

header.site-header a:hover {
	color: var(--color-accent-2);
}

:where(nav.site-nav) {
	display: flex;
	gap: 0.8rem;
	flex-wrap: wrap;
	align-items: center;
	margin-block: var(--stack-1) 0;
}

:where(nav.site-nav a) {
	color: var(--color-ink);
	text-decoration: none;
	font-size: 0.7rem;
	font-family: var(--font-label);
	letter-spacing: 0.2em;
	text-transform: uppercase;
	transition: color 160ms ease;
}

:where(nav.site-nav a:hover) {
	color: var(--color-accent-2);
}

:where(nav.site-nav a:visited) {
	color: var(--color-ink);
}

.menu-toggle {
	border: 0;
	background: transparent;
	padding: 0.4rem;
	margin-left: auto;
	display: none;
	cursor: pointer;
}

.menu-lines {
	display: inline-block;
	position: relative;
	width: 28px;
	height: 18px;
}

.menu-lines::before,
.menu-lines::after {
	content: "";
	position: absolute;
	left: 0;
	right: 0;
	height: 2px;
	background: var(--color-ink);
	transition: transform 220ms ease, top 220ms ease, opacity 220ms ease;
}

.menu-lines::before {
	top: 4px;
}

.menu-lines::after {
	top: 12px;
}

@media (max-width: 720px) {
	.menu-toggle {
		display: inline-flex;
		align-items: center;
		justify-content: center;
		color: var(--color-ink);
		position: relative;
		z-index: 20;
	}

	:where(nav.site-nav) {
		position: fixed;
		inset: 0;
		background: var(--color-bg);
		z-index: 10;
		display: flex;
		flex-direction: column;
		align-items: flex-start;
		justify-content: flex-start;
		gap: 1.4rem;
		padding: clamp(5rem, 10vh, 7rem) var(--page-pad) 2rem;
		margin: 0;
		transform: translateY(8px);
		opacity: 0;
		pointer-events: none;
		transition: opacity 220ms ease, transform 220ms ease;
	}

	:where(nav.site-nav a) {
		font-size: 1.1rem;
		letter-spacing: 0.14em;
	}

	.site-header.menu-open :where(nav.site-nav) {
		opacity: 1;
		transform: translateY(0);
		pointer-events: auto;
	}

	.site-header.menu-open .menu-lines::before {
		top: 8px;
		transform: rotate(45deg);
	}

	.site-header.menu-open .menu-lines::after {
		top: 8px;
		transform: rotate(-45deg);
	}
}

:where(footer.site-footer) {
	padding-inline: var(--page-pad);
	padding-block: 2rem 2.8rem;
	color: var(--color-ink-muted);
}

:where(footer.site-footer .inner) {
	max-width: var(--measure-wide);
	margin-inline: auto;
}

:where(p, ul, ol, dl, blockquote, pre, table, figure) {
	margin: 0;
}

:where(.stack > * + *) {
	margin-block-start: var(--stack-2);
}

:where(h1, h2, h3, h4, h5, h6) {
	margin: 0;
	line-height: 1.05;
	text-wrap: balance;
	color: var(--color-ink);
	font-family: var(--font-display);
}

:where(h1) {
	font-size: clamp(3.1rem, 5.6vw, 5.4rem);
	margin-block: var(--stack-3) var(--stack-2);
	letter-spacing: -0.02em;
}

:where(h2) {
	font-size: clamp(1.9rem, 3.2vw, 2.7rem);
	margin-block: var(--stack-4) var(--stack-2);
}

:where(h3) {
	font-size: 1.35rem;
	margin-block: var(--stack-3) var(--stack-1);
}

:where(h4) {
	font-size: 1rem;
	margin-block: var(--stack-2) var(--stack-1);
}

:where(p, li) {
	text-wrap: pretty;
	hyphens: auto;
	color: var(--color-ink-muted);
	font-size: 1.5rem;
}

:where(ul, ol) {
	padding-inline-start: 1.2rem;
}

:where(li + li) {
	margin-block-start: 0.35rem;
}

:where(dl) {
	display: grid;
	grid-template-columns: 1fr;
	gap: 0.5rem 1.25rem;
}

@media (min-width: 720px) {
	:where(dl) {
		grid-template-columns: 12ch 1fr;
		align-items: baseline;
	}
}

:where(dt) {
	font-weight: 700;
}

:where(dd) {
	margin: 0;
}

:where(blockquote) {
	padding: 1rem 1.4rem;
	border-left: 2px solid var(--hairline);
	color: var(--color-ink-muted);
}

:where(.meta) {
	font-size: 0.7rem;
	font-family: var(--font-label);
	letter-spacing: 0.18em;
	text-transform: uppercase;
	color: color-mix(in oklab, var(--color-ink-muted) 80%, transparent);
}

:where(a) {
	text-decoration: underline;
	text-decoration-thickness: 1px;
	text-underline-offset: 0.2em;
	text-decoration-color: currentColor;
	text-decoration-skip-ink: auto;
}

:where(a:hover) {
	color: var(--color-accent-2);
	text-decoration-color: currentColor;
}

:where(a:visited) {
	color: var(--color-accent);
}

:where(a:visited:hover) {
	color: var(--color-accent-2);
	text-decoration-color: currentColor;
}

:where(code, kbd, samp, pre) {
	font-family: var(--font-label);
	font-size: 0.95em;
}

:where(code) {
	padding-inline: 0.2em;
	padding-block: 0.05em;
	border-radius: 4px;
	background: rgba(20, 22, 26, 0.06);
}

:where(pre) {
	padding: 1rem 1.1rem;
	border-radius: 12px;
	overflow: auto;
	tab-size: 4;
	background: rgba(20, 22, 26, 0.06);
}

:where(pre code) {
	padding: 0;
	border: 0;
	border-radius: 0;
}

:where(table) {
	width: 100%;
	border-collapse: collapse;
	margin-block: var(--stack-2);
	font-variant-numeric: tabular-nums;
}

:where(th, td) {
	text-align: left;
	padding: 0.6rem 0.7rem;
	vertical-align: top;
	border-bottom: 1px solid var(--hairline);
}

:where(th) {
	font-weight: 600;
}

:where(.table-wrap) {
	overflow-x: auto;
	border-radius: 12px;
}
:where(.table-wrap table) {
	margin: 0;
}

:where(form) {
	margin-block: var(--stack-2);
}

:where(fieldset) {
	border: 0;
	border-radius: 12px;
	padding: 0;
}

:where(legend) {
	padding-inline: 0.3rem;
	font-weight: 600;
}

:where(form) :where(label) {
	display: inline-block;
	margin-block: 0.2rem;
}

:where(input, select, textarea, button) {
	font: inherit;
}

:where(input[type="text"], input[type="search"], input[type="number"], select, textarea) {
	max-width: 100%;
	padding: 0.55rem 0.7rem;
	border: 0;
	border-radius: 10px;
	background: rgba(20, 22, 26, 0.06);
	color: var(--color-ink);
}

:where(textarea) {
	min-height: 8rem;
	resize: vertical;
}

:where(button) {
	padding: 0.55rem 1.05rem;
	border: 0;
	border-radius: 999px;
	background: var(--color-ink);
	color: #f6f1e8;
	cursor: pointer;
	font-family: var(--font-label);
	text-transform: uppercase;
	letter-spacing: 0.18em;
	font-size: 0.7rem;
	transition: background-color 160ms ease, border-color 160ms ease, color 160ms ease;
}

:where(button:hover) {
	background: var(--color-accent);
}

:where(button:active) {
	transform: translateY(0.5px);
}

:where(a, button, input, select, textarea, summary):focus {
	outline: none;
}

:where(a, button, input, select, textarea, summary):focus-visible {
	outline: var(--focus);
	outline-offset: var(--focus-offset);
}

:where(h2, h3, h4, h5, h6)[id] {
	scroll-margin-top: 5rem;
}

:where(.sticky-bar) {
	background: var(--color-bg);
	color: var(--color-ink);
}

:where(.sticky-bar .inner) {
	max-width: var(--measure-wide);
	margin-inline: auto;
	padding-inline: var(--page-pad);
	padding-block: 0.7rem;
	display: flex;
	gap: 0.75rem;
	flex-wrap: wrap;
	align-items: center;
}

:where(.sticky-bar input, .sticky-bar select, .sticky-bar button) {
	padding: 0.35rem 0.5rem;
	border-radius: 8px;
}

:where(details) {
	border: 0;
	border-radius: 12px;
	padding: 0.7rem 0;
	background: transparent;
}

:where(summary) {
	cursor: pointer;
	font-weight: 600;
}

.site-index {
	max-width: 92ch;
	margin-inline: auto;
}

.site-index header {
	margin-bottom: clamp(24px, 4vw, 48px);
}

.site-index .nav-sections {
	display: flex;
	flex-direction: column;
	gap: clamp(2.2rem, 4vw, 4rem);
}

.site-index .nav-section {
	padding: 0;
}

.site-index .nav-section h2 {
	margin-top: 0;
}

.card-list {
	list-style: none;
	padding: 0;
	margin: 0;
	display: grid;
	gap: 1.4rem;
}

.card-list li {
	padding: 0.2rem 0;
}

.card-list a {
	font-weight: 600;
	letter-spacing: 0.06em;
	text-transform: uppercase;
}

.card-list p {
	font-size: inherit;
}


.home-footer {
	margin-top: clamp(2.6rem, 6vw, 5rem);
	display: flex;
	flex-direction: column;
	align-items: flex-start;
	gap: 0.6rem;
}

.hello {
	font-size: 1em;
	font-family: sans-serif;
	width: 13em;
	border-radius: 1em;
	border-bottom: solid 1em var(--color-accent-2);
	text-align: center;
	box-shadow: 0 0 1em rgba(0,0,0,0.3);
	margin: 1em auto 2em;
	transform: rotate(-2deg);
}

.hello .top {
	border-radius: 1em 1em 0 0;
	background: var(--color-accent-2);
	color: #fffefc;
	padding: 1em 0 0.3em;
}

.hello .top div {
	font-weight: bold;
	font-size: 1em;
	line-height: 0.5em;
	text-transform: uppercase;
}

.hello .top p {
	margin: 0;
	color: #fffefc;
}

.hello .name {
	background-color: #fffefc;
	color: var(--color-ink);
	width: 100%;
	height: 100%;
	display: flex;
	padding: 0 1em;
}

.hello .name picture {
	width: 100%;
	height: 100%;
	display: flex;
}

.hello .name picture img {
	object-fit: cover;
	height: auto;
	width: 80%;
	margin: 0 auto;
}

.footer-toggle {
	display: flex;
	align-items: center;
	margin-left: 0.2rem;
}

@media print {
	:where(.sticky-bar) {
		position: static;
		border: 0;
	}
	:where(a) {
		text-decoration: underline;
	}
	:where(a[href^="http"])::after {
		content: " (" attr(href) ")";
		font-size: 0.9em;
	}
}

:where(html.plain) :where(header.site-header, footer.site-footer, .sticky-bar) {
	display: none;
}
:where(html.plain) :where(h2) {
	border-top: 0;
	padding-block-start: 0;
}
:where(html.plain) :where(code, pre, fieldset, details, table, th, td) {
	border: 0;
	border-radius: 0;
	padding: 0;
}
